zookeeper

1.排它锁

抢占唯一一个节点或序号最小的节点

2.共享锁

比如写锁的名字是W-0001,读锁是R-0002

获取读锁的条件是当前节点是序号最小的节点或者比自己序号小的节点都是读节点

写锁的话就是自己是最小的节点



ZAB协议 zookeeper atomic broadcast





CP特性

leader选举过程是不可用的

极端环境下为了保证数据一致性,可能直接丢弃客户端的部分请求
